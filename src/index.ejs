<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--CSS contenent commande -->
    <link rel="stylesheet" href="./css/main.css"  type="text/css">
    <!---CSS Produit-->
    <link rel="stylesheet" href="./css/Produit.css">
    <!--CSS aside menu  -->
    <link rel="stylesheet" href="./css/menu.css">
    <!--CSS commande -->
    <link rel="stylesheet" href="./css/commande.css">
    <!--font awesome link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script src="https://kit.fontawesome.com/1440dbd284.js" crossorigin="anonymous"></script>
    <!-- Bootstrap CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
 rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
  crossorigin="anonymous">
  <!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" 
integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
 crossorigin="anonymous"></script>

 
    <title>Document</title>
</head>

<body>
   

    <div class="pbody">  
    <%- include ('./composants/menu') %>
        <div class="err" id="erreur"></div>
    <div class="Produit" id="table-pro"> <%- include ('./composants/Produit') %></div>
   <div class="content">
        
    <form action="/Formcontenu" method="post"  >
        <div class="selest"><label for="serveur">Serveur </label>
    <select name="nom_serveur" id="nom_serveur">
        <% for(i=0;i<serveur.length;i++){%>
        <option value="<%=serveur[i].nomSer%>"><%=serveur[i].nomSer%></option>
        <%}%>
    </select></div>
    <div class="ticket" id="ticket">
        
            
       
    </div>
       <input type="hidden" name="printN" id="print" >
         <input type="submit" class="btn btn-success" value="confirmer" id="confirme" onclick="disable(this.value)"> 
         <button type="reset" name="print" value="1" id="confirme" onclick="disable(this.value)" class="btn btn-secondary">annuler </button>
       <button type="button"  value="modifier" id="confirme" onclick="disable('0')" class="btn btn-primary">modifier</button>
        </form>
       
        <div class="erreur" id="err"></div>
    
    <div class="produit">
      <form action="\commande" method="post"></form>
       <% for(i=0;i<result.length;i++) {%>
        
        <input type="hidden" name="id" id="id" value="<%= result[i].id %>" >
        <button type="submit" name="nom_p" class="btn btn-info" id="id" onclick="creeticket('<%= result[i].nom_p %>','<%= result[i].prix_u %>','<%= result[i].id %>')"> <%= result[i].nom_p %>
        </button>
        
        <% } %>
       </form>
      
    </div> 
    
   </div>
   
  <div class="categore">
   <!---- <div class="vide"></div>-->
   
        <div class="qte">
            <button id="qte1"class="btn btn-danger" >X</button>
            <button id="qte2" class="btn btn-warning" value="1" onclick="ajoutQte(this.value)" >1</button>
            <button id="qte2" class="btn btn-warning" value="2" onclick="ajoutQte(this.value)">2</button>
            <button id="qte3" class="btn btn-warning"  value="3" onclick="ajoutQte(this.value)">3</button>
            <button id="qte4" class="btn btn-warning" value="4" onclick="ajoutQte(this.value)">4</button>
            <button id="qte5" class="btn btn-warning" value="5" onclick="ajoutQte(this.value)">5</button>
            <button id="qte6" class="btn btn-warning" value="6" onclick="ajoutQte(this.value)">6</button>
            <button id="qte7" class="btn btn-warning" value="7" onclick="ajoutQte(this.value)">7</button>
            <button id="qte8" class="btn btn-warning" value="8" onclick="ajoutQte(this.value)">8</button>
            
        </div>
   </div>
</div>

<div class="ordre">
    <div class="title-ordre">
       <h2> commande </h2>
    </div>
    <div class="ordre-content">
        <div class="table-ordre">
            <table class="table table-striped table-hover" id="l">
               <tr>
                <th>ID</th>
                <th>Nom Serveur</th>
                <th>Date</th>
               <!--- <th>type</th>-->
                <th></th>
               </tr>
               <% for(i=R_comm.length-1;i>R_comm.length-11;i--){ %>
               
                <tr>
                    <td><%= R_comm[i].ref_comm %></td>
                    <td><%= R_comm[i].nomSer %></td>
                    <td><%= R_comm[i].date_comm.getFullYear()%>-<%= R_comm[i].date_comm.getMonth()+1%>-<%= R_comm[i].date_comm.getDate()%> 
                        <%= R_comm[i].date_comm.getHours()%>:<%= R_comm[i].date_comm.getMinutes()%>:<%= R_comm[i].date_comm.getSeconds()%>
                    </td>
                    <!--<td>sur place</td>-->
                    <td>
                        <form action="/view" method="post">
                        <input type="hidden" name="id_comm" id="id_comm" value="<%= R_comm[i].ref_comm %>">
                        <input type="hidden" name="nom_serveur" id="nom_serveur" value="<%= R_comm[i].nomSer %>">
                        <button type="submit" class="btn btn-info">view</button>
                        </form>
                    </td>
                </tr>
               
                <%}%>
            </table>
        </div>
        <div class="ordre-bottom"></div>
    </div>
</div>


</body>
<!--script js rendre apps dynamique  -->
<script src="./dynamique/index.js"></script>
<script src="./dynamique/menu.js"></script>
<script src="./dynamique/Produit.js"></script>
</html>